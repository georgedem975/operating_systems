# Отчет по лабораторной работе №5.
---

__Требования к проведению экспериментов и содержанию отчета
Зафиксируйте в отчете данные о текущей конфигурации операционной системы в 
аспекте управления памятью:__
+ Общий объем оперативной памяти.

![1](https://github.com/georgedem975/operating_systems/blob/master/lab-5/lab5/assets/1.png)
+ Объем раздела подкачки.

![2](https://github.com/georgedem975/operating_systems/blob/master/lab-5/lab5/assets/2.png)
+ Размер страницы виртуальной памяти.

![3](https://github.com/georgedem975/operating_systems/blob/master/lab-5/lab5/assets/3.png)
+ Объем свободной физической памяти в ненагруженной системе.

![4](https://github.com/georgedem975/operating_systems/blob/master/lab-5/lab5/assets/4.png)
+ Объем свободного пространства в разделе подкачки в ненагруженной 
системе.

![5](https://github.com/georgedem975/operating_systems/blob/master/lab-5/lab5/assets/5.png)


---

### Эксперимент №1.

##### ___Подготовительный этап___
Создайте скрипт mem.bash, реализующий следующий сценарий. Скрипт 
выполняет бесконечный цикл. Перед началом выполнения цикла создается пустой 
массив и счетчик шагов, инициализированный нулем. На каждом шаге цикла в 
конец массива добавляется последовательность из 10 элементов, например, (1 2 3 4 5 6 7 8 9 10). На каждом 100000-ом шаге в файл report.log добавляется строка с текущим значением размера массива (перед запуском скрипта файл обнуляется)

__Файл mem.bash__

```shell
#!/bin/bash

: > report.log

mass=(1 2 3 4 5 6 7 8 9 10)

arr=()

i=0

while :
do
        if [[ $(($i % 100000)) -eq 0 ]]; then
                echo ${#arr[@]} >> report.log
        fi
        for j in $mass
        do
                arr+=($j)
        done

        i=$(($i+1))
done
```

##### ___Первый этап___

Задача – оценить изменения параметров, выводимых утилитой top в процессе работы созданного скрипта.

Ход эксперимента:
Запустите созданный скрипт mem.bash. Дождитесь аварийной остановки процесса и вывода в консоль последних сообщений системного журнала.

![6](https://github.com/georgedem975/operating_systems/blob/master/lab-5/lab5/assets/6.png)

Зафиксируйте в отчете последнюю запись журнала - значения параметров, с которыми произошла аварийная остановка процесса. Также зафиксируйте значение в последней строке файла report.log.

![7](https://github.com/georgedem975/operating_systems/blob/master/lab-5/lab5/assets/7.png)

Подготовьте две консоли. В первой запустите утилиту top. Во второй запустите скрипт и переключитесь на первую консоль. Убедитесь, что в ```top``` появился запущенный скрипт. Наблюдайте за следующими значениями (и фиксируйте их изменения во времени в отчете):
+ значения параметров памяти системы (верхние две строки над основной таблицей);
+ значения параметров в строке таблицы, соответствующей работающему скрипту;
+ изменения в верхних пяти процессах (как меняется состав и позиции этих процессов).
Проводите наблюдения и фиксируйте их в отчете до аварийной остановки процесса скрипта и его исчезновения из перечня процессов в ```top```.
Посмотрите с помощью команды ```dmesg | grep "mem.bash"``` последние две записи о скрипте в системном журнале и зафиксируйте их в отчете. Также зафиксируйте значение в последней строке файла ```report.log```.